import {Mongo} from 'meteor/mongo'
import {Population} from '../../api/population.js'

Meteor.startup(function () {
	if (Meteor.isServer){ 
	  if (Population.find().count() === 0) {
	    [
	      {country: "Rwanda",
	       year:[1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],
	       population: [2933428,2996096,3050604,3102972,3161724,3232934,3319082,3418317,3527263,3640591,3754541,3868337,3983700,4102321,4226799,4359092,4499509,4647615,4803725,4968074,5140716,5315032,5489322,5673614,5881906,6120107,6407672,6732131,7030179,7216028,7235798,7051759,6701851,6299909,6005095,5928078,6115168,6522382,7059813,7593239,8025703,8329406,8536205,8680346,8818438,8991735,9206580,9447402,9708169,9977446,10246842,10516071,10788853,11065151,11345357,11629553,11917508,12208407],
	  	  },
	      {country: "United States",
	       year: [1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],
	       population: [180671000,183691000,186538000,189242000,191889000,194303000,196560000,198712000,200706000,202677000,205052000,207661000,209896000,211909000,213854000,215973000,218035000,220239000,222585000,225055000,227225000,229466000,231664000,233792000,235825000,237924000,240133000,242289000,244499000,246819000,249623000,252981000,256514000,259919000,263126000,266278000,269394000,272657000,275854000,279040000,282162411,284968955,287625193,290107933,292805298,295516599,298379912,301231207,304093966,306771529,309338421,311644280,313993272,316234505,318622525,321039839,323405935,325719178],
	  	  },
	  	  {country: "Nigeria",
	       year: [1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1979,1980,1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017],
	       population: [45137812,46062905,47029140,48032246,49066059,50127214,51217359,52341834,53505978,54716735,55981400,57295210,58662603,60110433,61673559,63373572,65226229,67215805,69293550,71391290,73460724,75482552,77472907,79462277,81497739,83613300,85818502,88101628,90450281,92844353,95269988,97726323,100221563,102761737,105355783,108011465,110732904,113522705,116385750,119327073,122352009,125463434,128666710,131972533,135393616,138939478,142614094,146417024,150347390,154402181,158578261,162877076,167297284,171829303,176460502,181181744,185989640,190886311],
	  	  },
	    ].forEach(function(team){
	      Population.insert(team);
	    });
	  }

	  Meteor.publish("population", function() {
        return Population.find();
      });
	}
});
